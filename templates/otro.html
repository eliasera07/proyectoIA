<!DOCTYPE html>
<html>
<head>
    <title>Chatbot</title>
    <style>
        /* Estilos CSS para el chat */
        /* Personaliza el estilo a tu gusto */
    </style>
</head>
<body>
    <div id="chatbox">
        <div class="message">Chatbot: You are a helpful assistant. Type 'exit' to end the chat.</div>
    </div>
    <input type="text" id="userInput" placeholder="You: " />
</body>
<script>
    // Función para enviar el mensaje del usuario al servidor
    function sendMessage() {
        var userInput = document.getElementById("userInput");
        var userMessage = userInput.value;
        userInput.value = "";

        // Agregar el mensaje del usuario al chatbox
        appendMessage("You: " + userMessage);

        // Enviar el mensaje al servidor (backend) utilizando Fetch API
        fetch("/get_response", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify({ message: userMessage }),
        })
        .then((response) => response.json())
        .then((data) => {
            // Agregar la respuesta del chatbot al chatbox
            appendMessage("Chatbot: " + data.response);
        });
    }

    // Función para agregar mensajes al chatbox
    function appendMessage(message) {
        var chatbox = document.getElementById("chatbox");
        var messageDiv = document.createElement("div");
        messageDiv.classList.add("message");
        messageDiv.textContent = message;
        chatbox.appendChild(messageDiv);
    }

    // Evento para enviar el mensaje del usuario cuando presiona Enter
    document.getElementById("userInput").addEventListener("keyup", function (event) {
        if (event.key === "Enter") {
            sendMessage();
        }
    });
</script>
</html>
